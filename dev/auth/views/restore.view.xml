<?xml version="1.0"?>
<Geety xmlns:G="Geety">
    <View>
        <FoboxBase/>
        <G:Page title="Восстановление доступа | $PNAME"/>

        <style>
            html, body{
                height: 100%;
            }
            *:has(>.content){
                align-items: center; 
            }
            .content{
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            .content>a{
                font-size: 13px;
            }
            form{
                width: 390px;
                max-width: 390px;
            }
            input{
                border: 1px solid var(--border);
            }
            input[type="submit"]{
                font-size: 16px;
                text-align: center;
                width: stretch;
                width: -moz-available;
                width: -webkit-fill-available;
                background: var(--button-background);
                padding: 5px;
                border-radius: 10px;
                margin: 5px;
                cursor: pointer;
            }
            input[type="text"], input[type="password"]{
                background: var(--button-background);
                outline: none;
                padding: 5px;
                margin: 2px 5px;
                border-radius: 10px;
                font-size: 16px;
            }
            input[type="text"]:focus, input[type="password"]:focus{
                border: 1px solid var(--accent-color);
            }
            a{
                width: 380px;
                text-align: left;
                user-select: none;
            }
            div:has(>input[type="checkbox"]){
                margin: 5px;
            }
            input[type="checkbox"]{
                margin-right: 5px;
            }
            form>*{
                width: stretch;
                width: -moz-available;
                width: -webkit-fill-available;
            }
            div:has(#code){
                display: flex;
                align-items: center;
            }
            div:has(#code)>div>label{
                margin-left: 10px;
                width: 30px;
            }
            #code{
                width: stretch;
                width: -moz-available;
                width: -webkit-fill-available;
            }
            input[type="button"]{
                font-size: 13px;
                text-align: center;
                background: var(--button-background);
                padding: 5px;
                border-radius: 10px;
                margin: 2px 5px;
                cursor: pointer;
                white-space: nowrap;
                width: 130px;
            }
        </style>

        <script>
            async function send_code(){
                await G.POST(
                    '/auth/send_code',
                    {
                        'Content-Type': 'application/json'
                    },
                    JSON.stringify({ email: G.$('#email').value})
                )
            }
        </script>

        <Content>
            <h2>Восстановить пароль $PNAME</h2>
            <form action="''" method="'POST'" autocomplete="'off'">
                <input type="'text'" placeholder="'Почта'" name="'email'" id="'email'" required="'true'"/>
                <input type="'submit'" value="'Получить ссылку'" />
            </form>
            <a href="'/auth/signup'">Нет аккаунта? Создать</a>
            <a href="'/auth'">Помните пароль? Войти</a>
        </Content>
    </View>
</Geety>
